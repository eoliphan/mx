extends layout

block content
    style
        body {
                padding-top: 60px;
                padding-bottom: 40px;
              }
              .sidebar-nav {
                padding: 9px 0;
              }
    div.navbar.navbar-inverse.navbar-fixed-top
        div.navbar-inner
            div.container-fluid
                a.btn.btn-navbar(data-toggle='collapse',data-target='.nav-collapse')
                    span.icon-bar
                    span.icon-bar
                    span.icon-bar
                a.brand(href='/demoweb') SoundScry
                div.nav-collapse.collapse
                    p.navbar-text.pull-right Logged in as
                        a.navbar-link(href='#')  Scott Joplin
                    ul.nav
                        li.active: a(href='#') Home
                        li: a(href='#about') About
                        li: a(href='#contact') Contact
    div.container-fluid
        div.row-fluid
            div.span3
                div.well.sidebar-nav
                    ul.nav.nav-list
                        li.nav-header Options
                        li: a(href="#") Edit Profile
                        li.active: a(href="#") Active Offerings
                        li: a(href="#") Reports
                            ul.nav.nav-list
                                li: a(href="#") Account Information Summary
                                li: a(href="#") Complete Offering Summary
                                li: a(href="#") Offering Revenue Summary
                                li: a(href="#") Investment Summary Per Investment
                        li: a(href="#") Music Genres
                        li: a(href="#") Band Search
                //a.btn.btn-primary.span2(href="#addOfferDialog",role="button",data-toggle="modal") Add Project!
                a.btn.btn-primary.span2(id="addProjectBtn") Add Project!
            div.span9
                div.hero-unit
                    div.row-fluid
                        div.span8
                            table#grid
                                thead
                                    tr
                                        th Band
                                        th Project
                                        th Shares Owned
                                        th Value
                                        th Status
                                        th Revenue
                                tbody
                                    td(colspan=6)
                        div.span4
                            div#investchart
                    div.row-fluid
                    br
                    div.row-fluid
                        div.span12
                            div#revenuechart
    div#addOfferDialog.modal.hide.fade()
        div.modal-header
            button.close(type="button",data-dismiss="modal",aria-hidden="true")
            h3#addOfferDialogLabel Create A New Project!
        form.well(id="newProjectForm")
            div.modal-body
                label Project Name
                input.span3(type="text",placeholder="Project Name",name="projectName")
                label Amount Required for Project (USD)
                input.span3(type="text",placeholder="Amount Required",name="amountRequired")
                label Number of Shares
                input.span3(type="text",placeholder="Number of shares",name="noOfShares")
                label Single Investor Max
                input.span3(type="text",placeholder="Single Investor Max",name="singleInvestorMax")
                label Description (max 1000 characters)
                textarea.span3(rows="4",placeholder="Description",name="description")
                label Photo (1500x900)
                input.span3(type="file",name="photo")
            div.modal-footer
                button.btn() Close
                input.btn.btn-primary(type="submit") Sign Up!
    script
        var socket = io.connect();
        //socket.emit('newIssue',{name:"test"});
        // handle submission form
        $('#newProjectForm').submit(function(){
            //$('#addOfferDialog').remove();
            var formData = $(this).serialize();
            //alert(formData);
            socket.emit('newIssue',{data:formData});


        });
    script
        $("#addProjectBtn").click(function(){
            $('#addOfferDialog').modal('show');

        });
    script
        $("#revenuechart").kendoChart({
            title: {
                text: "Revenue Over Time"
            },
            series: [
                {
                    type: "line",
                    name: "Revenue",
                    data:[50.27,112.65,245.50,302.97,600.12, 1027.25, 2047.45]
                }
            ],
            seriesDefaults: {type: "line"}
        });
    script
        $("#investchart").kendoChart({
            height: 200,
            title: {
                text: "Investment Breakdown"
            },
            dataSource: {
                data: [
                    {category: "Moop", value: 5000},
                    {category: "Faith+1", value: 3000}
                ]
            },
            series: [{
                type: "donut",
                field: "value"
            }]
        });
    script
        $("#grid").kendoGrid({
                    height: 400,
                    columns: [
                        {title: "Band", field: "band"},
                        {title: "Project", field: "project"},
                        {title: "Shares Owned", field: "sharesOwned"},
                        {title: "Value", field: "shareValue"},
                        {title: "Status", field: "status"},
                        {title: "Revenue", field: "revenue"}
                    ],
                    dataSource: {
                        data:[
                            {band:"Moop",project:"Trilogy",sharesOwned:5,shareValue:5000,status:"In Production",revenue:"N/A"},
                            {band:"Faith+1",project:"Renewal",sharesOwned:3,shareValue:3000,status:"Released",revenue:"$675.45"}

                        ],
                        pageSize: 2
                    }
                });



